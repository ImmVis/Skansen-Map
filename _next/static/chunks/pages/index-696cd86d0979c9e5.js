(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(4209)}])},4779:function(e,t,n){"use strict";n.d(t,{Xi:function(){return u}});var i=n(5893),a=n(1864),r=n.n(a),o=n(7294);function l(e){let{children:t,index:n,header:a,image:r,question:o}=e;return(0,i.jsxs)("div",{className:"mt-0 mb-8 px-4 text-left w-full flex flex-col justify-center",children:[(0,i.jsx)("h5",{className:"font-black",children:a}),(0,i.jsx)("img",{src:r}),(0,i.jsx)("h4",{className:"mt-4 mb-6",children:o}),(0,i.jsx)("div",{className:"grid grid-cols-1 gap-4",children:[...t]})]})}function s(e){let{children:t,correct:n}=e;return(0,i.jsx)("div",{className:"col-span-1 bg-skansen-red text-white hover:bg-rose-500 text-lg font-bold rounded-md px-3 py-2 tracking-tight",children:[...t]})}function c(e){let{src:t}=e,[n,a]=(0,o.useState)(!1);return(0,i.jsxs)("div",{className:"video-wrapper",children:[(0,i.jsxs)("video",{onClick:function(e){let{target:t}=e;t.paused?t.play():t.pause(),a(!t.paused)},children:[(0,i.jsx)("source",{src:t,type:"video/mp4"}),"Your browser does not support the video tag."]}),!n&&(0,i.jsx)("div",{className:"video-playbutton",children:"â–¶"})]})}function u(e){return{img:function(t){let{src:n,...a}=t,o=function(e,t){let n=r().dirname(e);if(t){if(t.startsWith("http"))return t;if(!t.includes("/content")){let e=r().join("/",n,t);return e}}return t}(e,n);return(0,i.jsx)("img",{src:o,...a,alt:o})},Quiz:l,Option:s,Video:c}}},4209:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return A},default:function(){return B}});var i,a,r=n(5893),o=n(7294),l=n(3218),s=n(5675),c=n.n(s),u=n(3305),d=n(4779),f=n(7228),h=n(3790),m=n.n(h);function p(e){let{symbols:t,password:n,onSuccess:i}=e,[a,l]=(0,o.useState)([]);function s(e){var t,r;let o=a.concat([e]);o.length<n.length?null===(t=c.current)||void 0===t||t.classList.remove(m().incorrect):o.length==n.length&&(JSON.stringify(o)==JSON.stringify(n)?i():(null===(r=c.current)||void 0===r||r.classList.add(m().incorrect),o=[])),l(o)}let c=(0,o.useRef)(null);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:m().dots,ref:c,children:n.map((e,t)=>(0,r.jsx)("div",{className:a.length>t?m().dotOn:m().dotOff},e))}),(0,r.jsx)("div",{className:m().wrapper,children:t.map(e=>(0,r.jsx)(g,{symbol:e,highlight:a.includes(e),addInput:s},e))})]})}function g(e){let{symbol:t,highlight:n,addInput:i}=e,a=(0,o.useRef)(null);function l(){var e;null===(e=a.current)||void 0===e||e.classList.remove(m().hold)}return(0,r.jsx)("div",{ref:a,className:"".concat(m().button," ").concat(n&&m().highlight),onPointerDown:function(){var e;null===(e=a.current)||void 0===e||e.classList.add(m().hold)},onPointerUp:l,onPointerOut:l,onClick:()=>i(t),children:(0,r.jsx)("img",{src:"/content/symbols/".concat(t,".svg")})})}(i=a||(a={}))[i.StartPage=0]="StartPage",i[i.InfoPage=1]="InfoPage",i[i.MapBrowse=2]="MapBrowse",i[i.MapSelect=3]="MapSelect",i[i.StationPassword=4]="StationPassword",i[i.StationDetails=5]="StationDetails",i[i.StationQuiz=6]="StationQuiz",i[i.StationResult=7]="StationResult";var x=n(7398),v=n.n(x);function j(e){let{children:t,onClick:n}=e,i=(0,o.useRef)(null);function a(){var e;null===(e=i.current)||void 0===e||e.classList.remove(v().hold)}return(0,r.jsx)("button",{ref:i,className:v().bigButton,onClick:n,onPointerDown:function(){var e;null===(e=i.current)||void 0===e||e.classList.add(v().hold)},onPointerUp:a,onPointerOut:a,children:t})}function w(e){let{children:t,onClick:n}=e,i=(0,o.useRef)(null);function a(){var e;null===(e=i.current)||void 0===e||e.classList.remove(v().hold)}return(0,r.jsx)("button",{ref:i,className:v().textButton,onClick:n,onPointerDown:function(){var e;null===(e=i.current)||void 0===e||e.classList.add(v().hold)},onPointerUp:a,onPointerOut:a,children:t})}function b(e){let{children:t,onClick:n}=e;return(0,r.jsx)("button",{className:v().closeButton,onClick:n,children:t})}var k={src:"/_next/static/media/skansen-treasureHunt-2youth.154b6f30.svg",height:263,width:390,blurWidth:0,blurHeight:0},C={src:"/_next/static/media/skansen-treasureHunt-6youth.b7a6ac47.svg",height:789,width:390,blurWidth:0,blurHeight:0};function _(e){let{state:t,stations:n,selectedStation:i,onStart:o,onInfo:s,onExplore:u,onClose:d}=e,h=(0,l.o)(f.ny);function m(e){return h.find(t=>t.id==e)}return(0,r.jsxs)("div",{className:"panel-content",children:[(0,r.jsxs)("div",{style:{width:"75%",margin:"auto"},className:"flex flex-col min-h-full justify-center pt-10 text-left ".concat(t!=a.StartPage&&"hidden"),children:[(0,r.jsx)("small",{children:"V\xe4lkommen till"}),(0,r.jsx)("h1",{className:"font-extrabold",children:"Skansens Tipspromenad"}),(0,r.jsx)("p",{children:"Ta en tur i parken och utforska natur, djur och kultur. Vid varje station hittar du en kod best\xe5ende av symboler. Tryck in r\xe4tt kod i mobilen f\xf6r att l\xe5sa upp stationen. Se, lyssna och l\xe4s och svara p\xe5 n\xe5gra kluriga fr\xe5gor. Lycka till!"}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(j,{onClick:o,children:"Starta tipspromenad"}),(0,r.jsx)(w,{onClick:s,children:"Hur spelar jag?"})]}),(0,r.jsx)(c(),{alt:"Start page image",src:k})]}),(0,r.jsxs)("div",{style:{width:"75%",margin:"auto",backgroundImage:"url(".concat(C,")")},className:"flex flex-col justify-center pt-10 text-left ".concat(t!=a.InfoPage&&"hidden"),children:[(0,r.jsx)("h1",{className:"font-extrabold",children:"Instruktioner"}),(0,r.jsx)("p",{children:"Consectetur est minim occaecat ex magna anim sint pariatur culpa velit. Mollit aliqua non nisi aliquip quis cupidatat ut qui ullamco quis aliqua ea. Cillum quis ut exercitation veniam adipisicing commodo commodo. Anim esse commodo est non minim irure esse officia. Commodo est enim quis tempor duis labore nostrud consectetur aute qui qui. Eu reprehenderit anim adipisicing cillum ullamco ex Lorem elit ea."}),(0,r.jsx)("p",{children:"Kom tillbaka senare."}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)(j,{onClick:o,children:"Starta tipspromenad"})})]}),(0,r.jsx)("div",{className:"flex flex-col h-full justify-center ".concat(t!=a.MapBrowse&&"hidden"),children:(0,r.jsx)("span",{className:"font-extrabold",children:"Tryck p\xe5 en station"})}),n.map(e=>{var n;return(0,r.jsxs)("div",{className:"flex flex-col h-full justify-center ".concat(!(t==a.MapSelect&&e==i)&&"hidden"),children:[(0,r.jsx)("span",{className:"text-xl font-extrabold pt-3",children:e.data.name}),(0,r.jsx)(c(),{width:256,height:256,className:"panel-preview-image flex-1",alt:e.data.image,src:e.data.image}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)(j,{onClick:u,children:(null===(n=m(e.data.id))||void 0===n?void 0:n.passwordCorrect)?"Utforska":"L\xe5s upp"})}),(0,r.jsx)(b,{onClick:d,children:"\xd7"})]},e.data.id+"preview")}),n.map(e=>(0,r.jsx)("div",{className:"p-4 ".concat(!(t==a.StationDetails&&e==i)&&"hidden"),children:(0,r.jsx)(y,{station:e,atom:m(e.data.id),onClose:d})},e.data.id+"detail"))]})}function y(e){let{station:t,atom:n,onClose:i}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"".concat(!(null==n?void 0:n.passwordCorrect)&&"hidden"),children:[(0,r.jsx)(c(),{width:256,height:256,className:"m-auto w-64 h-32 object-cover rounded-full",alt:t.data.image,src:t.data.image}),(0,r.jsx)(u.R,{...t.content,components:(0,d.Xi)(t.mdxPath)}),(0,r.jsx)(j,{onClick:i,children:"G\xe5 tillbaka"}),(0,r.jsx)(b,{onClick:i,children:"\xd7"})]}),(0,r.jsxs)("div",{className:"".concat((null==n?void 0:n.passwordCorrect)&&"hidden"),children:[(0,r.jsx)("h1",{children:"Skriv in l\xf6senord"}),(0,r.jsx)("p",{children:"Vid stationen hittar du koden uhh n\xe5gonstans. F\xf6r tillf\xe4llet \xe4r koden 1 2 3 4."}),(0,r.jsx)(p,{symbols:t.data.symbols||[],password:t.data.password||[],onSuccess:function(){(0,f.LK)(t.data.id)}}),(0,r.jsx)(j,{onClick:i,children:"G\xe5 tillbaka"})]})]})}var S=n(7054);let N={width:"100%",height:"100%"};var P=function(e){let{googleMapsApiKey:t,center:n,stations:i,selectedStation:a,onStationClick:l}=e,{isLoaded:s}=(0,S.Ji)({id:"google-map-script",googleMapsApiKey:t}),[c,u]=(0,o.useState)(null),d=(0,o.useCallback)(function(e){let t=new window.google.maps.LatLngBounds(new google.maps.LatLng(59.323,18.0979),new google.maps.LatLng(59.3307,18.1122));e.fitBounds(t,0),e.panTo(n),u(e)},[]),f=(0,o.useCallback)(function(e){u(null)},[]),h={north:59.330333,south:59.322608,east:18.112642,west:18.0969},m=(h.north-h.south)/2,p=(h.east-h.west)/2,g=a?{north:a.data.position.lat+m,south:a.data.position.lat-m,east:a.data.position.lng+p,west:a.data.position.lng-p}:h;return null==c||c.panTo(n),null==c||c.setOptions({restriction:a?null:{latLngBounds:g,strictBounds:!1},gestureHandling:a?"none":"greedy",maxZoom:19}),s?(0,r.jsx)("div",{className:"map-container",children:(0,r.jsxs)(S.b6,{mapContainerStyle:N,zoom:11,heading:90,tilt:45,onLoad:d,onUnmount:f,options:{controlSize:null,disableDefaultUI:!0,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]},children:[(0,r.jsx)(S.$e,{url:"/Skansen_map_georeff_v1.png",bounds:h,opacity:1,onClick:()=>{l(null)}},"url"),i.map(e=>(0,r.jsx)(S.Jx,{position:e.data.position,onClick:()=>{l(e)},animation:a==e?google.maps.Animation.BOUNCE:void 0,options:{icon:{url:"./marker.gif",scaledSize:new google.maps.Size(50,50),anchor:new google.maps.Point(25,50)}},children:(0,r.jsx)("p",{children:e.data.name})},e.data.name))]})}):(0,r.jsx)(r.Fragment,{})},A=!0;function B(e){let{stations:t,googleMapsApiKey:n}=e,[i,l]=(0,o.useState)({lat:59.32650223048287,lng:18.10463536192017}),[s,c]=(0,o.useState)(a.StartPage),[u,d]=(0,o.useState)("");function h(e){e?(l({lng:e.data.position.lng,lat:e.data.position.lat}),d(e.data.id),c(a.MapSelect)):(d(""),c(a.MapBrowse))}let m=t.find(e=>e.data.id==u),[p,g]=(0,o.useState)("");function x(e){e?(g(e.data.id),(0,f.Eg)(e.data.id),c(a.StationDetails)):(g(""),c(a.MapBrowse))}let v=s!=a.MapBrowse,j=!(s==a.MapBrowse||s==a.MapSelect);return(0,r.jsxs)("main",{className:"w-full h-full flex flex-col",style:{minHeight:"-webkit-fill-available"},children:[(0,r.jsx)("div",{className:"map-wrapper ".concat(j?"active":""),children:(0,r.jsx)(P,{googleMapsApiKey:n,center:i,stations:t,selectedStation:m,onStationClick:h})}),(0,r.jsx)("div",{className:"panel-wrapper ".concat(v?"active":""),children:(0,r.jsx)(_,{state:s,stations:t,selectedStation:m,onStart:()=>{c(a.MapBrowse)},onInfo:()=>{c(a.InfoPage)},onExplore:()=>{x(m)},onClose:()=>{h(null),x(null)}})})]})}},7398:function(e){e.exports={bigButton:"Buttons_bigButton__4SL3e",textButton:"Buttons_textButton__eVmKV",hold:"Buttons_hold__RVzbf",closeButton:"Buttons_closeButton__fyQWH"}},3790:function(e){e.exports={wrapper:"Password_wrapper__OI11T",dots:"Password_dots__s4NDH",dotOn:"Password_dotOn__HZr7U",dotOff:"Password_dotOff__EBd0k",button:"Password_button__naCRh",highlight:"Password_highlight__BOpUI",hold:"Password_hold__E9sUv",incorrect:"Password_incorrect__iK8IW",Shake:"Password_Shake__Secrx"}},1864:function(e){!function(){"use strict";var t={114:function(e){function t(e){if("string"!=typeof e)throw TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,i="",a=0,r=-1,o=0,l=0;l<=e.length;++l){if(l<e.length)n=e.charCodeAt(l);else if(47===n)break;else n=47;if(47===n){if(r===l-1||1===o);else if(r!==l-1&&2===o){if(i.length<2||2!==a||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2)){if(i.length>2){var s=i.lastIndexOf("/");if(s!==i.length-1){-1===s?(i="",a=0):a=(i=i.slice(0,s)).length-1-i.lastIndexOf("/"),r=l,o=0;continue}}else if(2===i.length||1===i.length){i="",a=0,r=l,o=0;continue}}t&&(i.length>0?i+="/..":i="..",a=2)}else i.length>0?i+="/"+e.slice(r+1,l):i=e.slice(r+1,l),a=l-r-1;r=l,o=0}else 46===n&&-1!==o?++o:o=-1}return i}var i={resolve:function(){for(var e,i,a="",r=!1,o=arguments.length-1;o>=-1&&!r;o--)o>=0?i=arguments[o]:(void 0===e&&(e=""),i=e),t(i),0!==i.length&&(a=i+"/"+a,r=47===i.charCodeAt(0));return(a=n(a,!r),r)?a.length>0?"/"+a:"/":a.length>0?a:"."},normalize:function(e){if(t(e),0===e.length)return".";var i=47===e.charCodeAt(0),a=47===e.charCodeAt(e.length-1);return(0!==(e=n(e,!i)).length||i||(e="."),e.length>0&&a&&(e+="/"),i)?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0==arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var a=arguments[n];t(a),a.length>0&&(void 0===e?e=a:e+="/"+a)}return void 0===e?".":i.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n||(e=i.resolve(e))===(n=i.resolve(n)))return"";for(var a=1;a<e.length&&47===e.charCodeAt(a);++a);for(var r=e.length,o=r-a,l=1;l<n.length&&47===n.charCodeAt(l);++l);for(var s=n.length-l,c=o<s?o:s,u=-1,d=0;d<=c;++d){if(d===c){if(s>c){if(47===n.charCodeAt(l+d))return n.slice(l+d+1);if(0===d)return n.slice(l+d)}else o>c&&(47===e.charCodeAt(a+d)?u=d:0===d&&(u=0));break}var f=e.charCodeAt(a+d);if(f!==n.charCodeAt(l+d))break;47===f&&(u=d)}var h="";for(d=a+u+1;d<=r;++d)(d===r||47===e.charCodeAt(d))&&(0===h.length?h+="..":h+="/..");return h.length>0?h+n.slice(l+u):(l+=u,47===n.charCodeAt(l)&&++l,n.slice(l))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=e.charCodeAt(0),i=47===n,a=-1,r=!0,o=e.length-1;o>=1;--o)if(47===(n=e.charCodeAt(o))){if(!r){a=o;break}}else r=!1;return -1===a?i?"/":".":i&&1===a?"//":e.slice(0,a)},basename:function(e,n){if(void 0!==n&&"string"!=typeof n)throw TypeError('"ext" argument must be a string');t(e);var i,a=0,r=-1,o=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var l=n.length-1,s=-1;for(i=e.length-1;i>=0;--i){var c=e.charCodeAt(i);if(47===c){if(!o){a=i+1;break}}else -1===s&&(o=!1,s=i+1),l>=0&&(c===n.charCodeAt(l)?-1==--l&&(r=i):(l=-1,r=s))}return a===r?r=s:-1===r&&(r=e.length),e.slice(a,r)}for(i=e.length-1;i>=0;--i)if(47===e.charCodeAt(i)){if(!o){a=i+1;break}}else -1===r&&(o=!1,r=i+1);return -1===r?"":e.slice(a,r)},extname:function(e){t(e);for(var n=-1,i=0,a=-1,r=!0,o=0,l=e.length-1;l>=0;--l){var s=e.charCodeAt(l);if(47===s){if(!r){i=l+1;break}continue}-1===a&&(r=!1,a=l+1),46===s?-1===n?n=l:1!==o&&(o=1):-1!==n&&(o=-1)}return -1===n||-1===a||0===o||1===o&&n===a-1&&n===i+1?"":e.slice(n,a)},format:function(e){var t,n;if(null===e||"object"!=typeof e)throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return t=e.dir||e.root,n=e.base||(e.name||"")+(e.ext||""),t?t===e.root?t+n:t+"/"+n:n},parse:function(e){t(e);var n,i={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return i;var a=e.charCodeAt(0),r=47===a;r?(i.root="/",n=1):n=0;for(var o=-1,l=0,s=-1,c=!0,u=e.length-1,d=0;u>=n;--u){if(47===(a=e.charCodeAt(u))){if(!c){l=u+1;break}continue}-1===s&&(c=!1,s=u+1),46===a?-1===o?o=u:1!==d&&(d=1):-1!==o&&(d=-1)}return -1===o||-1===s||0===d||1===d&&o===s-1&&o===l+1?-1!==s&&(0===l&&r?i.base=i.name=e.slice(1,s):i.base=i.name=e.slice(l,s)):(0===l&&r?(i.name=e.slice(1,o),i.base=e.slice(1,s)):(i.name=e.slice(l,o),i.base=e.slice(l,s)),i.ext=e.slice(o,s)),l>0?i.dir=e.slice(0,l-1):r&&(i.dir="/"),i},sep:"/",delimiter:":",win32:null,posix:null};i.posix=i,e.exports=i}},n={};function i(e){var a=n[e];if(void 0!==a)return a.exports;var r=n[e]={exports:{}},o=!0;try{t[e](r,r.exports,i),o=!1}finally{o&&delete n[e]}return r.exports}i.ab="//";var a=i(114);e.exports=a}()},2746:function(e,t,n){e.exports.jsxRuntime=n(5893)},3305:function(e,t,n){"use strict";n.d(t,{R:function(){return d}});var i={};n.r(i),n.d(i,{MDXContext:function(){return o},MDXProvider:function(){return u},useMDXComponents:function(){return s},withMDXComponents:function(){return l}});var a=n(7294),r=n(2746);let o=a.createContext({});function l(e){return function(t){let n=s(t.components);return a.createElement(e,{...t,allComponents:n})}}function s(e){let t=a.useContext(o);return a.useMemo(()=>"function"==typeof e?e(t):{...t,...e},[t,e])}let c={};function u({components:e,children:t,disableParentContext:n}){let i;return i=n?"function"==typeof e?e({}):e||c:s(e),a.createElement(o.Provider,{value:i},t)}function d({compiledSource:e,frontmatter:t,scope:n,components:o={},lazy:l}){let[s,c]=(0,a.useState)(!l||"undefined"==typeof window);(0,a.useEffect)(()=>{if(l){let e=window.requestIdleCallback(()=>{c(!0)});return()=>window.cancelIdleCallback(e)}},[]);let d=(0,a.useMemo)(()=>{let a=Object.assign({opts:{...i,...r.jsxRuntime}},{frontmatter:t},n),o=Object.keys(a),l=Object.values(a),s=Reflect.construct(Function,o.concat(`${e}`));return s.apply(s,l).default},[n,e]);if(!s)return a.createElement("div",{dangerouslySetInnerHTML:{__html:""},suppressHydrationWarning:!0});let f=a.createElement(u,{components:o},a.createElement(d,null));return l?a.createElement("div",null,f):f}"undefined"!=typeof window&&(window.requestIdleCallback=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},window.cancelIdleCallback=window.cancelIdleCallback||function(e){clearTimeout(e)})}},function(e){e.O(0,[255,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);